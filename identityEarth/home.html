<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>HOME</title>
    <link rel="stylesheet" type="text/css" href="identityEarth-style.css">
    <link rel="stylesheet" href="https://use.typekit.net/dbh8opd.css">
    <script src="https://d3js.org/d3.v4.min.js"></script>
  </head>
  <body id="Body">
    <h1>Planet Size Comparison</h1>
    <svg id="space">
      <g id="xAxis"></g>
    </svg>
  </body>

  <script>
// planetData is defined within the queue, but Dave wrote it so it can be read by functions outside the queue
// otherPlanet needs to be rewritten as a function that takes input from dropdown menu
// indicator needs to be rewritten as a function that takes input from dropdown menu
    var planetData;
    var otherPlanet = "Mars";
    var indicator = "radius";

    d3.queue()
      .defer(d3.csv, "identityEarth.csv")
      .awaitAll(function(error, dataArray) {
        planetData = dataArray[0];
        planetData.forEach(function(planet) {
          planet.radius = parseFloat(planet.radius);
        });
        console.log(planetData);
        redraw();
        comPoint();
      });

// == is override current value with new value ex [old value ==(overwrittenby) new value]
// || means or
    function redraw() {
      var data = planetData.filter(function(d) {
        return d.name == "Earth" || d.name == otherPlanet;
      });
      console.log(data);
    }

// my draw function
    var drawCircles = function(dataArray) {
      var svg = d3.select("#space")
      var planets = svg.selectAll(".planet")
        .data(dataArray);
      planets.enter().append("circle")
        .attr("class", "planet")
        .attr("r", 0)
        .attr("fill", "black")
        .attr("cx", function(dataPoint, index) {
          return 25 + (index * 50);
        })
    }


// example draw function
    // var drawCircles = function(dataArray) {
    //   var svg = d3.select("#viz");
    //   var dots = svg.selectAll(".dot")
    //     .data(dataArray);
    //   // enter circles
    //   dots.enter().append("circle")
    //     .attr("class", "dot")
    //     .attr("r", 0)
    //     .attr("fill", "black")
    //     .attr("cx", function(dataPoint, index) {
    //       return 25 + (index * 50);
    //     })
    //     .attr("cy", 25)
    //     .transition()
    //     .duration(1000)
    //     .attr("r", function(dataPoint) {
    //       return dataPoint / 2;
    //     });
    //   // update circles
    //   dots
    //     .transition()
    //     .duration(1000)
    //     .attr("r", function(dataPoint) {
    //       return dataPoint / 2;
    //     })
    //     .attr("fill", "green");
    //   // exit circles
    //   dots.exit()
    //     .transition()
    //     .duration(1000)
    //     .attr("r", 0)
    //     .remove();
    // };

    </script>
</html>
